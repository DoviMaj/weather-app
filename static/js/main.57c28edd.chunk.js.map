{"version":3,"sources":["components/Header.js","components/LocationInfo.js","components/SwitchButton.js","App.js","index.js"],"names":["Header","props","style","display","alignItems","gap","justifyContent","fontSize","width","alt","src","cursor","onClick","getUserLocation","borderRadius","padding","placeholder","onKeyPress","e","key","target","value","getLocation","className","errorLoading","LocationInfo","useState","sunSetRise","setSunSetRise","useEffect","convertFromEcho","location","sys","sunrise","sunset","convertToFarenheits","v","Math","round","rise","set","Date","toLocaleTimeString","navigator","language","hour","minute","margin","name","country","degreeFormat","main","temp","weather","icon","feels_like","description","humidity","SwitchButton","onChange","toggleFormat","checked","type","color","zIndex","position","App","setLocation","setDegreeFormat","isLoading","setIsLoading","deviceLocation","setDeviceLocation","setErrorLoading","setHour","api","myInit","mode","myRequest","Request","a","fetch","response","json","data","console","error","ok","Error","setInterval","date","second","length","fetchResults","getInitialLocation","geolocation","getCurrentPosition","ps","coords","latitude","longitude","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mPAqDeA,G,MAnDA,SAACC,GACd,OACE,gCACE,sBACEC,MAAO,CACLC,QAAS,OACTC,WAAY,SACZC,IAAK,OACLC,eAAgB,SAChBC,SAAU,QANd,UASE,qBACEL,MAAO,CAAEM,MAAO,QAChBC,IAAI,WACJC,IAAI,sDAEN,mDAEF,uBACA,sBACER,MAAO,CACLC,QAAS,OACTG,eAAgB,SAChBD,IAAK,OACLD,WAAY,UALhB,UAQE,qBACEF,MAAO,CAAES,OAAQ,UAAWH,MAAO,QACnCC,IAAI,kBACJG,QAAS,kBAAMX,EAAMY,mBACrBH,IAAI,2DAEN,uBACER,MAAO,CAAEY,aAAc,MAAOC,QAAS,OACvCC,YAAY,UACZC,WAAY,SAACC,GAAD,MACA,UAAVA,EAAEC,KAAsC,KAAnBD,EAAEE,OAAOC,MAC1BpB,EAAMqB,YAAYJ,GAClB,WAIV,mBAAGK,UAAU,YAAb,SACGtB,EAAMuB,aAAe,4BAA8B,YCsC7CC,EAnFM,SAACxB,GAAW,IAAD,EACMyB,mBAAS,IADf,mBACvBC,EADuB,KACXC,EADW,KAG9BC,qBACE,kBACEC,EAAgB7B,EAAM8B,SAASC,IAAIC,QAAShC,EAAM8B,SAASC,IAAIE,UACjE,CAACjC,EAAM8B,WAGT,IAEMI,EAAsB,SAACC,GAAD,OAAOC,KAAKC,MAAW,EAAJF,EAAS,GAAK,IAEvDN,EAAkB,SAACS,EAAMC,GAC7BZ,EAAc,CACZ,IAAIa,KAAY,IAAPF,GAAaG,mBAAmBC,UAAUC,SAAU,CAC3DC,KAAM,UACNC,OAAQ,YAEV,IAAIL,KAAW,IAAND,GAAYE,mBAAmBC,UAAUC,SAAU,CAC1DC,KAAM,UACNC,OAAQ,eAKd,OACE,sBAAKvB,UAAU,gBAAf,UACE,sBACErB,MAAO,CACLC,QAAS,OACTG,eAAgB,SAChBF,WAAY,SACZC,IAAK,OACLE,SAAU,OACVwC,OAAQ,OAPZ,UAUE,oBAAG7C,MAAO,CAAE6C,OAAQ,GAApB,UACG9C,EAAM8B,SAASiB,KADlB,KAC0B/C,EAAM8B,SAASC,IAAIiB,WAE7C,qBACExC,IAAI,OACJC,IAAG,sCAAiCT,EAAM8B,SAASC,IAAIiB,QAApD,qBAGP,gCACE,oBACE/C,MAAO,CACLK,SAAU,OACVJ,QAAS,OACTG,eAAgB,SAChBF,WAAY,UALhB,UAQGH,EAAMiD,aACHf,EAAoBE,KAAKC,MAAMrC,EAAM8B,SAASoB,KAAKC,OACnDf,KAAKC,MAAMrC,EAAM8B,SAASoB,KAAKC,MAClCnD,EAAMiD,aAAe,QAAO,QAE7B,qBACEzC,IAAI,eACJC,IAAG,2CAAsCT,EAAM8B,SAASsB,QAAQ,GAAGC,KAAhE,gBAGP,2CACa,IACVrD,EAAMiD,aACHf,EAAoBE,KAAKC,MAAMrC,EAAM8B,SAASoB,KAAKI,aACnDlB,KAAKC,MAAMrC,EAAM8B,SAASoB,KAAKI,YA5DZtD,EAAMiD,aAAe,QAAO,QAwDrD,MAKyBjD,EAAM8B,SAASsB,QAAQ,GAAGG,YALnD,gBAMavD,EAAM8B,SAASoB,KAAKM,SANjC,OAQA,0CACY9B,EAAW,GADvB,cACsCA,EAAW,MAEjD,sBACA,8BCzCO+B,EApCM,SAACzD,GACpB,OACE,qBAAKC,MAAO,CAAEC,QAAS,OAAQG,eAAgB,UAA/C,SACE,wBAAOiB,UAAU,SAAjB,UACE,uBACEoC,SAAU,kBAAM1D,EAAM2D,gBACtBC,QAAS5D,EAAMiD,aACfY,KAAK,aAEP,sBACEvC,UAAU,eACVrB,MAAO,CACLC,QAAS,OACTG,eAAgB,SAChBF,WAAY,UALhB,SAQE,sBACEF,MAAO,CACLC,QAAS,OACTE,IAAK,OACL0D,MAAO,QACPC,OAAQ,EACRC,SAAU,WACV1D,SAAU,QAPd,UAUE,qCACA,gDCuGG2D,MA9Hf,WAAgB,IAAD,EACmBxC,mBAAS,IAD5B,mBACNK,EADM,KACIoC,EADJ,OAE2BzC,oBAAS,GAFpC,mBAENwB,EAFM,KAEQkB,EAFR,OAGqB1C,oBAAS,GAH9B,mBAGN2C,EAHM,KAGKC,EAHL,OAI+B5C,mBAAS,IAJxC,mBAIN6C,EAJM,KAIUC,EAJV,OAK2B9C,oBAAS,GALpC,mBAKNF,EALM,KAKQiD,EALR,OAMW/C,mBAAS,IANpB,mBAMNmB,EANM,KAMA6B,EANA,KAQPC,EAAM,SAACvC,GAAD,kEAC2CA,EAD3C,yDAENwC,EAAS,CAAEC,KAAM,QACjBC,EAAY,SAAC1C,GAAD,OAAO,IAAI2C,QAAQJ,EAAIvC,GAAIwC,IAXhC,4CA2Cb,8BAAAI,EAAA,6DACEV,GAAa,GADf,kBAG2BW,MAAM,uDAAD,OAC6BV,EAAe,GAD5C,gBACsDA,EAAe,GADrE,wDAE1BK,GALN,cAGUM,EAHV,gBAOuBA,EAASC,OAPhC,OAOUC,EAPV,OAQIjB,EAAYiB,GACZX,GAAgB,GAChBH,GAAa,GAVjB,kDAYIA,GAAa,GACbG,GAAgB,GAChBY,QAAQC,MAAR,MAdJ,2DA3Ca,kEA8Db,WAA2BpE,GAA3B,iBAAA8D,EAAA,6DACEV,GAAa,GADf,kBAG2BW,MAAMH,EAAU5D,EAAEE,OAAOC,QAHpD,WAGU6D,EAHV,QAIkBK,GAJlB,sBAKY,IAAIC,MAAM,uBALtB,uBAOuBN,EAASC,OAPhC,OAOUC,EAPV,OAQIjB,EAAYiB,GACZlE,EAAEE,OAAOC,MAAQ,GACjBiD,GAAa,GACbG,GAAgB,GAXpB,kDAaIA,GAAgB,GAChBH,GAAa,GACbe,QAAQC,MAAR,MAfJ,2DA9Da,kEAkFb,8BAAAN,EAAA,6DACEV,GAAa,GADf,kBAG2BW,MAAMN,EAAI,UAAWC,GAHhD,cAGUM,EAHV,gBAIuBA,EAASC,OAJhC,OAIUC,EAJV,OAKIX,GAAgB,GAChBN,EAAYiB,GACZd,GAAa,GAPjB,kDASIG,GAAgB,GAChBH,GAAa,GACbe,QAAQC,MAAR,MAXJ,2DAlFa,sBAqGb,OAtFAG,aAAY,WACV,IAAIC,EAAO,IAAIjD,KACfiC,EACEgB,EAAKhD,mBAAmBC,UAAUC,SAAU,CAC1CC,KAAM,UACNC,OAAQ,UACR6C,OAAQ,eAGX,KAYH9D,qBAAU,WACsB,IAA1B0C,EAAeqB,QArCR,mCAsCTC,KAED,CAACtB,IAyDJ1C,qBAAU,YAjGG,mCAkGXiE,KACC,IAGD,8BACE,sBAAKvE,UAAU,MAAf,UACE,cAAC,EAAD,CACEC,aAAcA,EACdX,gBAhFR,WACE8B,UAAUoD,YAAYC,oBAAmB,SAAC/B,GACxC,IAAMgC,EAAK,CACT5D,KAAKC,MAAM2B,EAASiC,OAAOC,UAC3B9D,KAAKC,MAAM2B,EAASiC,OAAOE,YAE7B5B,EAAkByB,OA2Ed3E,YA3GK,8CA6GN+C,EACC,mBAAGnE,MAAO,CAAEK,SAAU,QAAtB,yBAEA,gCACE,cAAC,EAAD,CAAc2C,aAAcA,EAAcnB,SAAUA,IACpD,cAAC,EAAD,CACE6B,aAAc,kBAtGCQ,GAAiBlB,IAuGhCA,aAAcA,IAEhB,4BAAIL,aCxHhBwD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.57c28edd.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = (props) => {\n  return (\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: \"10px\",\n          justifyContent: \"center\",\n          fontSize: \"30px\",\n        }}\n      >\n        <img\n          style={{ width: \"60px\" }}\n          alt=\"app-logo\"\n          src=\"https://www.feirox.com/rivu/2016/04/Klara-1-1.png\"\n        ></img>\n        <p>Current Weather</p>\n      </div>\n      <br></br>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: \"20px\",\n          alignItems: \"center\",\n        }}\n      >\n        <img\n          style={{ cursor: \"pointer\", width: \"30px\" }}\n          alt=\"location access\"\n          onClick={() => props.getUserLocation()}\n          src=\"https://img.icons8.com/ios-filled/50/000000/marker.png\"\n        ></img>\n        <input\n          style={{ borderRadius: \"5px\", padding: \"5px\" }}\n          placeholder=\"city...\"\n          onKeyPress={(e) =>\n            e.key === \"Enter\" && e.target.value !== \"\"\n              ? props.getLocation(e)\n              : null\n          }\n        ></input>\n      </div>\n      <p className=\"not-found\">\n        {props.errorLoading ? \"Ops, something went wrong\" : null}\n      </p>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useEffect, useState } from \"react\";\n\nconst LocationInfo = (props) => {\n  const [sunSetRise, setSunSetRise] = useState([]);\n\n  useEffect(\n    () =>\n      convertFromEcho(props.location.sys.sunrise, props.location.sys.sunset),\n    [props.location]\n  );\n\n  const getDegreeFormat = () => (props.degreeFormat ? \"째F\" : \"째C\");\n\n  const convertToFarenheits = (v) => Math.round((v * 9) / 5) + 32;\n\n  const convertFromEcho = (rise, set) => {\n    setSunSetRise([\n      new Date(rise * 1000).toLocaleTimeString(navigator.language, {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }),\n      new Date(set * 1000).toLocaleTimeString(navigator.language, {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }),\n    ]);\n  };\n\n  return (\n    <div className=\"location-info\">\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          gap: \"20px\",\n          fontSize: \"40px\",\n          margin: \"0px\",\n        }}\n      >\n        <p style={{ margin: 0 }}>\n          {props.location.name}, {props.location.sys.country}\n        </p>\n        <img\n          alt=\"flag\"\n          src={`https://www.countryflags.io/${props.location.sys.country}/flat/64.png`}\n        ></img>\n      </div>\n      <div>\n        <p\n          style={{\n            fontSize: \"30px\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          {props.degreeFormat\n            ? convertToFarenheits(Math.round(props.location.main.temp))\n            : Math.round(props.location.main.temp)}\n          {props.degreeFormat ? \"째F\" : \"째C\"}\n\n          <img\n            alt=\"weather-icon\"\n            src={`http://openweathermap.org/img/wn/${props.location.weather[0].icon}@2x.png`}\n          ></img>\n        </p>\n        <p>\n          Feels like{\" \"}\n          {props.degreeFormat\n            ? convertToFarenheits(Math.round(props.location.main.feels_like))\n            : Math.round(props.location.main.feels_like)}\n          {getDegreeFormat()} | {props.location.weather[0].description} |\n          Humidity: {props.location.main.humidity}%\n        </p>\n        <p>\n          Sunrise: {sunSetRise[0]} | Sunset: {sunSetRise[1]}\n        </p>\n        <p></p>\n        <br></br>\n      </div>\n    </div>\n  );\n};\n\nexport default LocationInfo;\n","import React from \"react\";\n\nconst SwitchButton = (props) => {\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n      <label className=\"switch\">\n        <input\n          onChange={() => props.toggleFormat()}\n          checked={props.degreeFormat}\n          type=\"checkbox\"\n        ></input>\n        <span\n          className=\"slider round\"\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              gap: \"20px\",\n              color: \"black\",\n              zIndex: 2,\n              position: \"relative\",\n              fontSize: \"12px\",\n            }}\n          >\n            <span>C</span>\n            <span>F</span>\n          </div>\n        </span>\n      </label>\n    </div>\n  );\n};\n\nexport default SwitchButton;\n","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport React from \"react\";\nimport Header from \"./components/Header\";\nimport LocationInfo from \"./components/LocationInfo\";\nimport SwitchButton from \"./components/SwitchButton\";\n\nfunction App() {\n  const [location, setLocation] = useState({});\n  const [degreeFormat, setDegreeFormat] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [deviceLocation, setDeviceLocation] = useState([]);\n  const [errorLoading, setErrorLoading] = useState(false);\n  const [hour, setHour] = useState(\"\");\n\n  const api = (v) =>\n    `https://api.openweathermap.org/data/2.5/weather?q=${v}&appid=3069ae2718e40f8dc1998b7250e16f10&units=metric`;\n  const myInit = { mode: \"cors\" };\n  const myRequest = (v) => new Request(api(v), myInit);\n\n  const toggleFormat = () => setDegreeFormat(!degreeFormat);\n\n  setInterval(() => {\n    var date = new Date();\n    setHour(\n      date.toLocaleTimeString(navigator.language, {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n      })\n    );\n  }, 1000);\n\n  function getUserLocation() {\n    navigator.geolocation.getCurrentPosition((position) => {\n      const ps = [\n        Math.round(position.coords.latitude),\n        Math.round(position.coords.longitude),\n      ];\n      setDeviceLocation(ps);\n    });\n  }\n\n  useEffect(() => {\n    if (deviceLocation.length !== 0) {\n      fetchResults();\n    }\n  }, [deviceLocation]);\n\n  // gets location from device\n  async function fetchResults() {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?lat=${deviceLocation[0]}&lon=${deviceLocation[1]}&appid=3069ae2718e40f8dc1998b7250e16f10&units=metric`,\n        myInit\n      );\n      const data = await response.json();\n      setLocation(data);\n      setErrorLoading(false);\n      setIsLoading(false);\n    } catch (e) {\n      setIsLoading(false);\n      setErrorLoading(true);\n      console.error(e);\n    }\n  }\n\n  // gets location from input\n  async function getLocation(e) {\n    setIsLoading(true);\n    try {\n      const response = await fetch(myRequest(e.target.value));\n      if (!response.ok) {\n        throw new Error(\"bad network request\");\n      }\n      const data = await response.json();\n      setLocation(data);\n      e.target.value = \"\";\n      setIsLoading(false);\n      setErrorLoading(false);\n    } catch (e) {\n      setErrorLoading(true);\n      setIsLoading(false);\n      console.error(e);\n    }\n  }\n\n  // initial location\n  async function getInitialLocation() {\n    setIsLoading(true);\n    try {\n      const response = await fetch(api(\"london\"), myInit);\n      const data = await response.json();\n      setErrorLoading(false);\n      setLocation(data);\n      setIsLoading(false);\n    } catch (e) {\n      setErrorLoading(true);\n      setIsLoading(false);\n      console.error(e);\n    }\n  }\n\n  useEffect(() => {\n    getInitialLocation();\n  }, []);\n\n  return (\n    <div>\n      <div className=\"App\">\n        <Header\n          errorLoading={errorLoading}\n          getUserLocation={getUserLocation}\n          getLocation={getLocation}\n        />\n        {isLoading ? (\n          <p style={{ fontSize: \"40px\" }}>Loading ...</p>\n        ) : (\n          <div>\n            <LocationInfo degreeFormat={degreeFormat} location={location} />\n            <SwitchButton\n              toggleFormat={() => toggleFormat()}\n              degreeFormat={degreeFormat}\n            />\n            <p>{hour}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}